<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <img src="jogador.png" alt="" width="100" /><br />
    <canvas
      id="desenho1"
      width="500"
      height="500"
      style="border: 1px solid #000"
    >
      <h3>Seu browser n√£o possui suporte ao canvas</h3>
    </canvas>

    <script type="text/javascript">
      let canvas = document.getElementById("desenho1");
      let ctx = canvas.getContext("2d");
      

      let jogador = new Image();
      jogador.src = "jogador.png";
      let numSprite = 0;
      let posIniX = 0;
      let Limagem = 0;
      let largSprite = 0;
      let numSpries = 4;
      let posX = 0;
      let posY = 0;
      let velocidade = 2;

      jogador.addEventListener("load", () => {
        Aimagem = jogador.height;
        largSprite = jogador.width / numSpries;
        altSprite = jogador.height / numSpries;
        posIniX = largSprite * numSprite;
        //imagem, XiniRecorte, YiniRecorte, Lrecorte, Arecorte, posX, posY, Limagem, Aimagem
        //imagem,
        ctx.drawImage(
          jogador,
          posIniX,
          0,
          largSprite,
          altSprite,
          posX,
          posY,
          largSprite,
          altSprite
        );
      });
      let anima = setInterval(() => {
        ctx.clearRect(0, 0, 500, 500);
        numSprite++;
        if (numSprite > 3) numSprite = 0;
        posIniX = largSprite * numSprite;
        ctx.drawImage(
          jogador,
          posIniX,
          0,
          largSprite,
          altSprite,
          posX,
          posY,
          largSprite,
          altSprite
        );
      }, 200);

      window.addEventListener("keydown", (event) => {
        if (event.keyCode == 37) {
          //esquerda
          posX -= velocidade;
        } else if (event.keyCode == 39) {
          //direita
          posX += velocidade;
        }
        if (event.keyCode == 38) {
          posY -= velocidade;
        } else if (event.keyCode == 40) {
          posY += velocidade;
        }
      });
      /*nave.onload = () => {
        ctx.drawImage(nave, 0, 0);
      };
      */
    </script>
  </body>
</html>
